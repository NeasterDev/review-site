(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,n){"use strict";n.r(a);var t=n(2),r=n.n(t),i=n(54),l=n.n(i),s=(n(67),n(26)),o=n(82),c=n(3),m=(n(70),n(12)),u=n(13),d=n(48),v=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"getProfile",value:function(){return Object(d.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(d.a)(e).exp<Date.now()/1e3}catch(a){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),g=n(8),b=n(55),p=function(e){var a=e.change,n=Object(t.useState)(""),i=Object(g.a)(n,2),l=i[0],s=i[1];return r.a.createElement(b.Hint,{options:["Acadia National Park","Arches National Park","Badlands National Park","Big Bend National Park","Biscayne National Park","Black Canyon of the Gunnison National Park","Bryce Canyon National Park","Canyonlands National Park","Capitol Reef National Park","Carlsbad Caverns National Park","Channel Islands National Park","Congaree National Park","Crater Lake National Park","Cuyahoga Valley National Park","Death Valley National Park","Denali National Park and Preserve","Dry Tortugas National Park","Everglades National Park","Gates of the Arctic National Park","Gateway Arch National Park","Glacier National Park","Glacier Bay National Park","Grand Canyon National Park","Grand Teton National Park","Great Basin National Park","Great Sand Dunes National Park and Preserve","Great Smoky Mountains National Park","Guadalupe Mountains National Park","Haleakala National Park","Hawaii Volcanoes National Park","Hot Springs National Park","Indiana Dunes National Park","Isle Royale National Park","Joshua Tree National Park","Katmai National Park and Preserve","Kenai Fjords National Park","Kings Canyon National Park","Kobuk Valley National Park","Lake Clark National Park","Lassen Volcanic National Park","Mammoth Cave National Park","Mesa Verde National Park","Mount Rainier National Park","National Park of American Samoa","New River Gorge National Park","North Cascades National Park","Olympic National Park","Petrified Forest National Park","Pinnacles National Park","Redwood National Park","Rocky Mountain National Park","Saguaro National Park","Sequoia National Park","Shenandoah National Park","Theodore Roosevelt National Park","Virgin Islands National Park","Voyageurs National Park","White Sands National Park","Wind Cave National Park","Wrangell-St. Elias National Park and Preserve","Yellowstone National Park","Yosemite National Park","Zion National Park"]},r.a.createElement("input",{className:"input searchInput",placeholder:"i.e. Yellowstone...",value:l,onChange:function(e){s(e.target.value),a&&a(e)}}))};var N=function(){return r.a.createElement("section",{className:"section"},r.a.createElement("nav",{className:"navbar main-bg-color is-fixed-top mb-10 o-5"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{href:"/",className:"navbar-item"},r.a.createElement("div",{className:"is-flex "},r.a.createElement("h1",{className:"is-size-3 has-text-weight-bold"},"Nelp"))),r.a.createElement("a",{role:"button",className:"navbar-burger my-auto","aria-label":"menu","aria-expanded":"false",onClick:function(e){document.querySelector(".navbar-menu").classList.toggle("is-active")}},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement("form",{onSubmit:console.log("submit clicked")},r.a.createElement("div",{className:" is-flex-desktop is-flex-tablet"},r.a.createElement(p,null),r.a.createElement("button",{className:"button is-hidden-mobile",type:"submit"},"Search"))))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},v.loggedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"navbar-item",href:"#add-review",onClick:function(e){document.querySelector(".write-container").classList.toggle("is-hidden")}},"Add Review"),r.a.createElement("a",{className:"navbar-item",href:"/profile"},"Profile"),r.a.createElement("a",{className:"navbar-item",href:"/",onClick:function(e){e.preventDefault(),v.logout()}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"navbar-item",href:"#login",onClick:function(e){var a=document.querySelector(".login-container"),n=document.querySelector(".sign-up-container");n.classList.contains("is-hidden")||n.classList.toggle("is-hidden"),a.classList.toggle("is-hidden")}},"Login"),r.a.createElement("a",{className:"navbar-item",href:"#signup",onClick:function(e){var a=document.querySelector(".sign-up-container"),n=document.querySelector(".login-container");n.classList.contains("is-hidden")||n.classList.toggle("is-hidden"),a.classList.toggle("is-hidden")}},"Signup"))))))};n(73);function f(){return r.a.createElement("footer",{class:"footer main-bg-color o-5 is-flex is-justify-content-center"},r.a.createElement("div",{className:"ml-2 has-text-weight-bold is-flex-desktop"},r.a.createElement("div",{className:" is-italic has-text-centered has-text-weight-light"},"Created by,\xa0\xa0"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/crazypants300"},"Nicholas Easter,\xa0"),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/CoderJ01"},"Joshua Jones,\xa0"),"and\xa0",r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Evidal19"},"Elisa Vidal"))))}n(75);var E,k,h,w,P,j,y,S,O,x,C,$=function(e){for(var a=e.location,n=e.rating,t=e.reviewText,i=e.username,l="",s=0;s<n;s++)l+="\u2605";return r.a.createElement("div",{className:"box","data-location":a},r.a.createElement("div",{className:" is-size-6 is-italic has-text-weight-medium"},a),r.a.createElement("div",{className:"is-flex "},r.a.createElement("div",{className:"rev-max-description"},t)),r.a.createElement("div",null,"Rating ",l),r.a.createElement("div",null,i))},T=n(56),R=n.n(T),L=function(){return r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:""},r.a.createElement("img",{className:"",src:R.a})))},_=n(16),q=n(119),I=Object(q.a)(E||(E=Object(_.a)(["\n  query Me {\n    me {\n      username\n      _id\n      savedReviews {\n        reviewText\n        location\n        rating\n        _id\n      }\n    }\n  }\n"]))),G=(Object(q.a)(k||(k=Object(_.a)(["\n  query user($User: String) {\n    _id\n    username\n    email\n    savedReviews {\n      _id\n      reviewText\n      rating\n      username\n    }\n  }\n"]))),Object(q.a)(h||(h=Object(_.a)(["\n  query review($Review: String) {\n    _id\n    reviewText\n    rating\n    username\n  }\n"]))),Object(q.a)(w||(w=Object(_.a)(["\n  query reviews($username: String) {\n    reviews(username: $username) {\n      _id\n      reviewText\n      rating\n      username\n    }\n  }\n"]))),Object(q.a)(P||(P=Object(_.a)(["\n  query reviews {\n    users {\n      username\n      savedReviews {\n        reviewText\n        _id\n        username\n        rating\n        location\n      }\n    }\n  }\n"])))),B=n(109),D=function(){var e=Object(t.useState)({}),a=Object(g.a)(e,2),n=a[0],i=(a[1],Object(B.a)(G)),l=i.loading,s=i.error,o=i.data;return l?"Loading...":s?"Error! ".concat(s.message):(console.log(n),r.a.createElement("div",{className:"homepage mb-8"},r.a.createElement(L,null),r.a.createElement("div",{className:"container mt-2"},o.users.map(function(e){if(e.savedReviews.length)return e.savedReviews.map(function(e){return r.a.createElement($,{key:e._id,location:e.location,reviewText:e.reviewText,username:e.username,rating:e.rating})})}))))},V=n(33),A=n.n(V),F=n(47),M=n(27),U=(n(88),n(116)),J=Object(q.a)(j||(j=Object(_.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),H=Object(q.a)(y||(y=Object(_.a)(["\n  mutation addUser($email: String!, $username: String!, $password: String!) {\n    addUser(email: $email, username: $username, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),Y=(Object(q.a)(S||(S=Object(_.a)(["\n  mutation updateUser($username: String!, $email: String!) {\n    updateUser(username: $username, email: $email) {\n      token\n      user {\n        _id\n        username\n        email\n        savedReviews {\n          _id\n          reviewText\n          rating\n          username\n        }\n      }\n    }\n  }\n"]))),Object(q.a)(O||(O=Object(_.a)(["\n  mutation removeUser($email: String!, $password: String!) {\n    removeuser(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),Object(q.a)(x||(x=Object(_.a)(["\nmutation addReview($reviewText: String!, $rating: Int!, $location: String!) {\n  addReview(reviewText: $reviewText, rating: $rating, location: $location) {\n    username\n    savedReviews {\n      reviewText\n      location\n      reviewText\n    }\n  }\n}\n"])))),z=(Object(q.a)(C||(C=Object(_.a)(["\n  mutation deleteReview($email: String!, $password: String!) {\n    deleteReview(username: $username, email: $email) {\n      token\n      user {\n        _id\n        username\n        email\n        savedReviews {\n          _id\n          reviewText\n          rating\n          username\n        }\n      }\n    }\n  }\n"]))),function(e){var a=Object(t.useState)({email:"",password:""}),n=Object(g.a)(a,2),i=n[0],l=n[1],o=Object(U.a)(J),c=Object(g.a)(o,2),m=c[0],u=c[1].error,d=function(e){var a=e.target,n=a.name,t=a.value;l(Object(s.a)({},i,Object(M.a)({},n,t)))},b=function(){var e=Object(F.a)(A.a.mark(function e(a){var n,t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,m({variables:Object(s.a)({},i)});case 4:n=e.sent,t=n.data,console.log(t),v.login(t.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:l({email:"",password:""});case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"write-position is-hidden mobile-p login-container signup-bg"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"is-flex is-justify-content-space-between"},r.a.createElement("h1",{className:"title"},"Login"),r.a.createElement("button",{className:"delete",onClick:function(e){var a=document.querySelector(".login-container"),n=document.querySelector(".sign-up-container");n.classList.contains("is-hidden")||n.classList.toggle("is-hidden"),a.classList.toggle("is-hidden")}})),r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:"input",placeholder:"Your email",name:"email",type:"email",id:"email",value:i.email,onChange:d})),r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:"input",placeholder:"******",name:"password",type:"password",id:"password",value:i.password,onChange:d})),r.a.createElement("button",{className:"button is-success has-text-black",type:"submit"},"Submit")),u&&r.a.createElement("div",null,"Login failed")))});n(90);function K(){var e=Object(t.useState)({username:"",email:"",password:""}),a=Object(g.a)(e,2),n=a[0],i=a[1],l=Object(U.a)(H),o=Object(g.a)(l,2),c=o[0],m=o[1].error,u=function(e){var a=e.target,t=a.name,r=a.value;i(Object(s.a)({},n,Object(M.a)({},t,r)))},d=function(){var e=Object(F.a)(A.a.mark(function e(a){var t,r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,c({variables:Object(s.a)({},n)});case 4:t=e.sent,r=t.data,v.login(r.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"write-position is-hidden mobile-p sign-up-container signup-bg"},r.a.createElement("div",{className:"is-flex is-justify-content-space-between"},r.a.createElement("h1",{className:"title"},"Signup"),r.a.createElement("button",{className:"delete",onClick:function(e){var a=document.querySelector(".sign-up-container"),n=document.querySelector(".login-container");n.classList.contains("is-hidden")||n.classList.toggle("is-hidden"),a.classList.toggle("is-hidden")}})),r.a.createElement("form",{className:"signup",onSubmit:d},r.a.createElement("div",{className:""},r.a.createElement("label",{className:"label"}),r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:"input",type:"username",name:"username",id:"username",placeholder:"Username",value:n.username,onChange:u}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"}),r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:"input",type:"email",name:"email",id:"email",placeholder:"Email",value:n.email,onChange:u}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"}),r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{className:"input",type:"password",name:"password",id:"password",placeholder:"********",value:n.password,onChange:u}))),r.a.createElement("button",{class:"button is-success has-text-black",type:"submit"},"Signup!")),m&&r.a.createElement("div",null,"Signup failed"))}var W=function(){var e=Object(B.a)(I),a=e.loading,n=e.error,t=e.data;return a?"Loading...":n?"Error... ".concat(n):(console.log(t),r.a.createElement("div",{className:"container mt-5r mb-4"},r.a.createElement("div",{className:"title has-text-centered-mobile"},"Your Reviews"),t.me.savedReviews.map(function(e){if(e)return r.a.createElement($,{key:e._id,location:e.location,reviewText:e.reviewText,username:e.username,rating:e.rating})})))};n(92),n(94);function Z(){var e=Object(U.a)(Y),a=Object(g.a)(e,2),n=a[0],i=a[1],l=(i.data,i.loading),s=i.error,o=Object(t.useState)(""),c=Object(g.a)(o,2),m=c[0],u=c[1],d=Object(t.useState)(1),v=Object(g.a)(d,2),b=v[0],N=v[1],f=Object(t.useState)(""),E=Object(g.a)(f,2),k=E[0],h=E[1];if(l)return"Review Submitted";if(s)return"Submission error! ".concat(s.message);return r.a.createElement("div",{className:"write-position is-hidden write-bg write-container mobile-p"},r.a.createElement("div",{className:"is-flex is-justify-content-space-between"},r.a.createElement("h1",{className:"title mobile-title"},"Add Review"),r.a.createElement("button",{className:"delete",onClick:function(e){document.querySelector(".write-container").classList.toggle("is-hidden")}})),r.a.createElement("form",{className:"is-flex is-flex-direction-column",onSubmit:function(e){e.preventDefault(),n({variables:{reviewText:m,rating:b,location:k}})}},r.a.createElement("div",{className:"mb-1"},r.a.createElement(p,{change:function(e){console.log(e.target.value),h(e.target.value)}})),r.a.createElement("textarea",{className:" textarea mb-1",onChange:function(e){console.log(e.target.value),u(e.target.value)},placeholder:"Add review text here..."}),r.a.createElement("input",{onChange:function(e){console.log(e.target.value),N(parseInt(e.target.value))},className:"input mb-1",list:"stars",name:"stars",placeholder:"How many stars?"}),r.a.createElement("datalist",{id:"stars"},r.a.createElement("option",{value:"1"}),r.a.createElement("option",{value:"2"}),r.a.createElement("option",{value:"3"}),r.a.createElement("option",{value:"4"}),r.a.createElement("option",{value:"5"})),r.a.createElement("button",{type:"submit",className:"button"},"Submit")))}var Q=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("main",{className:" min-height-100"},r.a.createElement(Z,null),r.a.createElement(c.a,{exact:!0,path:"/",component:D}),r.a.createElement(z,null),r.a.createElement(K,null),r.a.createElement(c.a,{exact:!0,path:"/profile",component:W})),r.a.createElement(f,null)))},X=n(104),ee=n(120),ae=n(121),ne=n(117),te=n(85),re=Object(X.a)({uri:"/graphql"}),ie=Object(te.a)(function(e,a){var n=a.headers,t=localStorage.getItem("id_token");return{headers:Object(s.a)({},n,{authorization:t?"Bearer ".concat(t):""})}}),le=new ee.a({link:ie.concat(re),cache:new ae.a});var se=function(){return r.a.createElement(ne.a,{client:le},r.a.createElement("div",null,r.a.createElement(Q,null)))},oe=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,118)).then(function(a){var n=a.getCLS,t=a.getFID,r=a.getFCP,i=a.getLCP,l=a.getTTFB;n(e),t(e),r(e),i(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null))),oe()},56:function(e,a,n){e.exports=n.p+"static/media/hero-img.e7f4ae0b.jpg"},59:function(e,a,n){e.exports=n(103)},67:function(e,a,n){},70:function(e,a,n){},73:function(e,a,n){},75:function(e,a,n){},88:function(e,a,n){},90:function(e,a,n){},92:function(e,a,n){},94:function(e,a,n){}},[[59,3,2]]]);
//# sourceMappingURL=main.6896aa9c.chunk.js.map